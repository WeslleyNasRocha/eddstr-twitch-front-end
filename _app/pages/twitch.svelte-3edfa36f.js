import{S as t,i as e,s,e as a,t as n,c as r,a as l,g as o,d as c,f as i,G as h,h as d,O as u,H as f,k as p,N as v,n as m,P as g,x as E,A as x,Q as N,R as w,T as L}from"../chunks/vendor-ec9d296a.js";function S(t,e,s){const a=t.slice();return a[1]=e[s],a}function k(t,e){let s,p,v,m=e[1].displayName+"";return{key:t,first:null,c(){s=a("li"),p=n(m),this.h()},l(t){s=r(t,"LI",{});var e=l(s);p=o(e,m),e.forEach(c),this.h()},h(){this.first=s},m(t,e){i(t,s,e),h(s,p)},p(t,s){e=t,1&s&&m!==(m=e[1].displayName+"")&&d(p,m)},i(t){v||u((()=>{v=N(s,L,{x:-200,duration:200}),v.start()}))},o:f,d(t){t&&c(s)}}}function y(t){let e,s,d,u,x,N,L=[],y=new Map,I=t[0];const O=t=>t[1].userId;for(let a=0;a<I.length;a+=1){let e=S(t,I,a),s=O(e);y.set(s,L[a]=k(s,e))}return{c(){e=p(),s=a("div"),d=a("h1"),u=n("Participantes"),x=p(),N=a("ul");for(let t=0;t<L.length;t+=1)L[t].c();this.h()},l(t){v('[data-svelte="svelte-1u50x7v"]',document.head).forEach(c),e=m(t),s=r(t,"DIV",{});var a=l(s);d=r(a,"H1",{});var n=l(d);u=o(n,"Participantes"),n.forEach(c),x=m(a),N=r(a,"UL",{});var i=l(N);for(let e=0;e<L.length;e+=1)L[e].l(i);i.forEach(c),a.forEach(c),this.h()},h(){document.title="Twitch"},m(t,a){i(t,e,a),i(t,s,a),h(s,d),h(d,u),h(s,x),h(s,N);for(let e=0;e<L.length;e+=1)L[e].m(N,null)},p(t,[e]){1&e&&(I=t[0],L=g(L,e,O,1,t,I,y,N,w,k,null,S))},i(t){for(let e=0;e<I.length;e+=1)E(L[e])},o:f,d(t){t&&c(e),t&&c(s);for(let e=0;e<L.length;e+=1)L[e].d()}}}function I(t,e,s){let a=[];return x((()=>{const t=new EventSource("http://localhost:4000/twitch/listen");t.addEventListener("open",(t=>{console.log("Connected")})),t.addEventListener("message",(t=>{const e=JSON.parse(t.data);s(0,a=e.map((t=>JSON.parse(t))))}))})),[a]}class O extends t{constructor(t){super(),e(this,t,I,y,s,{})}}export{O as default};
